<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="568px" preserveAspectRatio="none" style="width:672px;height:568px;background:#FFFFFF;" version="1.1" viewBox="0 0 672 568" width="672px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="29.0679" id="_title" style="stroke:none;stroke-width:1.0;" width="252" x="203.205" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="242" x="208.205" y="24.9659">Mental map of how a query is built</text><ellipse cx="306.91" cy="56.0679" fill="#222222" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><g id="Query"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="61" x="276.41" y="127.0679"/><line style="stroke:#181818;stroke-width:0.5;" x1="276.41" x2="337.41" y1="156.1358" y2="156.1358"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="286.41" y="147.0339">Query</text></g><g id="QueryPlannerSources"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="166" x="67.91" y="256.0679"/><line style="stroke:#181818;stroke-width:0.5;" x1="67.91" x2="233.91" y1="285.1358" y2="285.1358"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="77.91" y="276.0339">QueryPlannerSources</text></g><g id="CollectionQuery"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="325.41" y="256.0679"/><line style="stroke:#181818;stroke-width:0.5;" x1="325.41" x2="452.41" y1="285.1358" y2="285.1358"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="335.41" y="276.0339">CollectionQuery</text></g><ellipse cx="150.91" cy="524.0679" fill="none" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><ellipse cx="151.41" cy="524.5679" fill="#222222" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><g id="QueryPlannerSelect"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="153" x="292.41" y="385.0679"/><line style="stroke:#181818;stroke-width:0.5;" x1="292.41" x2="445.41" y1="414.1358" y2="414.1358"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="302.41" y="405.0339">QueryPlannerSelect</text></g><!--MD5=[a7b9c0f3d65b00b2fb0893e598503c65]
link *start to Query--><g id="link_*start_Query"><path d="M306.91,66.0779 C306.91,78.7679 306.91,102.4779 306.91,121.6379 " fill="none" id="*start-to-Query" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="306.91,126.9079,310.91,117.9079,306.91,121.9079,302.91,117.9079,306.91,126.9079" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[dba95d1739b2bf1a40603cac76dc37de]
link Query to QueryPlannerSources--><g id="link_Query_QueryPlannerSources"><path d="M277.2,177.2579 C250.74,198.7979 212.06,230.2779 184.49,252.7279 " fill="none" id="Query-to-QueryPlannerSources" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="180.51,255.9679,190.0127,253.3799,184.3849,252.808,184.9568,247.1801,180.51,255.9679" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="239.91" y="221.9649">from</text></g><!--MD5=[3c892f3ee7f652c4ccdb758e9072bda8]
link Query to CollectionQuery--><g id="link_Query_CollectionQuery"><path d="M299.87,177.1879 C296.91,192.1579 295.78,211.2779 303.91,226.0679 C309.8,236.7979 318.83,245.6879 328.83,252.9579 " fill="none" id="Query-to-CollectionQuery" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="333.17,255.9779,328.0532,247.5625,329.0611,253.1289,323.4948,254.1368,333.17,255.9779" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="304.91" y="221.9649">collection</text></g><!--MD5=[730218357994de889317a6942f1b8b70]
link CollectionQuery to Query--><g id="link_CollectionQuery_Query"><path d="M385.08,255.9979 C381.91,241.0579 376.34,221.9379 366.91,207.0679 C360.21,196.5079 350.89,186.7479 341.59,178.5079 " fill="none" id="CollectionQuery-to-Query" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="337.61,175.0779,341.8043,183.989,341.3932,178.3471,347.035,177.936,337.61,175.0779" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[e017df18f5cfb1cb3c059515346430d2]
link QueryPlannerSources to QueryPlannerSources--><g id="link_QueryPlannerSources_QueryPlannerSources"><path d="M234.16,269.2779 C254.12,270.1979 268.91,274.1279 268.91,281.0679 C268.91,287.4079 256.55,291.2379 239.18,292.5479 " fill="none" id="QueryPlannerSources-to-QueryPlannerSources" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="234.16,292.8579,243.3938,296.2838,239.1501,292.5434,242.8905,288.2996,234.16,292.8579" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="274.91" y="286.4649">with</text></g><!--MD5=[faee6fdf0a86a0b8a61a3b518f7b24ce]
link QueryPlannerSources to *end--><g id="link_QueryPlannerSources_*end"><path d="M96.77,306.1379 C65.97,323.1779 30.52,349.3879 14.91,385.0679 C6,405.4279 6,414.7079 14.91,435.0679 C37.17,485.9779 106.08,510.7179 136.37,519.3679 " fill="none" id="QueryPlannerSources-to-*end" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="141.22,520.7079,133.6084,514.4579,136.4002,519.3778,131.4802,522.1696,141.22,520.7079" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="15.91" y="415.4649">insert</text></g><!--MD5=[faee6fdf0a86a0b8a61a3b518f7b24ce]
link QueryPlannerSources to *end--><g id="link_QueryPlannerSources_*end"><path d="M140.78,306.1079 C129.36,336.1679 113.32,389.2679 120.91,435.0679 C125.45,462.4879 137.46,492.8279 144.83,509.7679 " fill="none" id="QueryPlannerSources-to-*end-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="146.95,514.5679,146.9557,504.7191,144.922,509.9977,139.6433,507.9639,146.95,514.5679" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="121.91" y="415.4649">update</text></g><!--MD5=[faee6fdf0a86a0b8a61a3b518f7b24ce]
link QueryPlannerSources to *end--><g id="link_QueryPlannerSources_*end"><path d="M157.34,306.1479 C164.6,336.2679 174.78,389.4179 169.91,435.0679 C167.07,461.6879 159.52,492.0779 154.84,509.2779 " fill="none" id="QueryPlannerSources-to-*end-2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="153.49,514.1779,159.7343,506.5616,154.8164,509.3571,152.0209,504.4392,153.49,514.1779" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="172.91" y="415.4649">remove</text></g><!--MD5=[362e40ae632088398f8ff11a7f29b287]
link QueryPlannerSources to QueryPlannerSelect--><g id="link_QueryPlannerSources_QueryPlannerSelect"><path d="M192.17,306.1079 C229.41,327.8079 284.14,359.6879 322.81,382.2179 " fill="none" id="QueryPlannerSources-to-QueryPlannerSelect" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="327.45,384.9179,321.6882,376.9303,323.1301,382.4003,317.6601,383.8422,327.45,384.9179" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="274.91" y="350.9649">select</text></g><!--MD5=[722843d730a9a8df09ed155e066126cb]
link QueryPlannerSelect to QueryPlannerSelect--><g id="link_QueryPlannerSelect_QueryPlannerSelect"><path d="M445.52,398.1879 C465.41,398.9179 480.41,402.8779 480.41,410.0679 C480.41,416.6379 467.88,420.5079 450.53,421.6879 " fill="none" id="QueryPlannerSelect-to-QueryPlannerSelect" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="445.52,421.9479,454.7136,425.4804,450.5134,421.6911,454.3027,417.4909,445.52,421.9479" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="486.41" y="415.4649">where/page/groupBy/sortBy</text></g><!--MD5=[2f09d36c6353a701bc5974cdacd86280]
link QueryPlannerSelect to *end--><g id="link_QueryPlannerSelect_*end"><path d="M326.43,435.1179 C300.26,449.6979 265.9,468.4479 234.91,484.0679 C210.44,496.3979 181.34,509.5879 164.6,517.0379 " fill="none" id="QueryPlannerSelect-to-*end" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="159.83,519.1579,169.6789,519.1636,164.4002,517.1299,166.434,511.8513,159.83,519.1579" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="269.91" y="479.9649">execute</text></g><rect fill="none" height="19.0679" id="_caption" style="stroke:none;stroke-width:1.0;" width="183" x="237.705" y="540.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="237.705" y="555.0339">final = query gets executed</text><!--MD5=[ce4b161add5ae40fe4f187f2423e86be]
@startuml
title Mental map of how a query is built
caption final = query gets executed

[*] - -> Query

Query - -> QueryPlannerSources: from
Query - -> CollectionQuery : collection
CollectionQuery - -> Query

QueryPlannerSources - -> QueryPlannerSources: with
QueryPlannerSources - -> [*]: insert
QueryPlannerSources - -> [*]: update
QueryPlannerSources - -> [*]: remove
QueryPlannerSources - -> QueryPlannerSelect: select

QueryPlannerSelect - -> QueryPlannerSelect: where/page/groupBy/sortBy
QueryPlannerSelect - -> [*]: execute
@enduml

PlantUML version 1.2022.8(Sun Sep 25 06:00:33 ART 2022)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>